{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/server/app.ts","webpack:///./src/server/constants/constants.ts","webpack:///./src/server/index.ts","webpack:///./src/server/objects/Player.ts","webpack:///external \"express\"","webpack:///external \"http\"","webpack:///external \"mysql\"","webpack:///external \"path\"","webpack:///external \"socket.io\""],"names":[],"mappings":"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","file":"./server/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/server/index.ts\");\n","console.log(\"\\n\\n===============>\\t app starting\\n\");\r\n\r\nimport * as mysql from 'mysql';\r\nimport { createServer, Server } from 'http';\r\nimport * as express from 'express';\r\nimport * as socketIo from 'socket.io';\r\nimport * as path from 'path';\r\nimport * as CONSTANTS from './constants/constants';\r\nimport { Player } from './objects/Player'\r\n\r\n\r\nexport class App {\r\n    public static readonly PORT:number = 8080;\r\n    public app: express.Application;\r\n    private server: Server;\r\n    public io: SocketIO.Server;\r\n    private port: string | number;\r\n    public db: mysql.Connection;\r\n    private dbConfig = {\r\n        host        : CONSTANTS.HOST,\r\n        user        : CONSTANTS.USER,\r\n        password    : CONSTANTS.DBPASSWORD,\r\n        database    : ''\r\n    };\r\n\r\n    constructor() {\r\n        this.createApp();\r\n        this.config();\r\n        this.createServer();\r\n        this.Routes();\r\n        this.sockets();\r\n        this.listen();\r\n        this.dbConnect();\r\n    }\r\n\r\n    private createApp(): void {\r\n        this.app = express();\r\n    }\r\n\r\n    private createServer(): void {\r\n        this.server = createServer(this.app);\r\n    }\r\n\r\n    private Routes(): void {\r\n        this.app.use(express.static('./dist/client'));\r\n        this.app.get('/', function (req, res) {\r\n            res.sendFile(path.resolve('./dist/client/index.html'));;\r\n        });\r\n        this.app.use(\"/assets\", express.static('./dist/client/assets'));\r\n    }\r\n\r\n    private config(): void {\r\n        this.port = process.env.PORT || 4001;\r\n    }\r\n\r\n    private sockets(): void {\r\n        this.io = socketIo.listen(this.server);;\r\n    }\r\n\r\n    private listen(): void {\r\n        this.server.listen(this.port, () => {\r\n            console.log(`\\n\\n===============>\\t running server on port ${this.port}\\n`);\r\n        });\r\n\r\n        this.io.on('connect', (socket: socketIo.EngineSocket) => {\r\n            console.log(`\\n\\n===============>\\t connected client on port ${this.port}\\n`);\r\n            socket.on('messageFromFrontend', (m: string) => {\r\n                console.log(`\\n\\n===============>\\t ${m}\\n`);\r\n                this.io.emit('messageFromBackend', 'Hello from the backend!');\r\n            });\r\n\r\n            socket.on('signIn', (signInInfo: any) => {\r\n                let sql = 'SELECT * FROM player WHERE username = ? AND password = ?';\r\n                var query = this.db.query(sql, [signInInfo.username,signInInfo.password], (err, res) => {\r\n                    if (err) {\r\n                        console.log(err);\r\n                        socket.emit('errorFromBackend', err.code);                        \r\n                    }else if(res.length === 0){\r\n                        socket.emit('errorFromBackend', 'username and or password was incorrect');                 \r\n                    }else{\r\n                        // TODO: compare sign in info with DB\r\n                        console.log(`\\n\\n===============>\\t Player logging in\\n`)\r\n                        console.log(`===============>\\t username: ${signInInfo.username}\\n`)\r\n                        console.log(`===============>\\t password: ${signInInfo.password}\\n`)\r\n                        this.CreatePlayer(socket, { player: res[0], isNew: false });\r\n                    }\r\n                })\r\n            })\r\n\r\n            socket.on('signUp', (signUpInfo) => {\r\n                let postPlayer = { username: signUpInfo.username, password: signUpInfo.password}\r\n                let sql = 'INSERT INTO player SET ?';\r\n                let query = this.db.query(sql, postPlayer, (err, res) => {\r\n                    if(err){\r\n                        console.log(err);\r\n                        if(err.code === 'ER_DUP_ENTRY'){\r\n                            socket.emit('errorFromBackend', 'this username is already in use');\r\n                        }else{\r\n                            socket.emit('errorFromBackend', err.code);\r\n                        }\r\n                    }else{\r\n                        let player = this.CreatePlayer(socket, {player: {id:res.insertId}, isNew: true});\r\n                    }\r\n                }) \r\n            })\r\n            \r\n            // TODO: login --> create new player or grab existing player from DB\r\n            socket.on('disconnect', () => {\r\n            console.log(`\\n\\n===============>\\t client disconnected\\n`);\r\n            });\r\n        });\r\n    }\r\n\r\n    private CreatePlayer(socket: socketIo.EngineSocket, playerInfo: any): void {\r\n        let player = new Player(this.io, socket, this.db, playerInfo);\r\n        if(playerInfo.isNew){\r\n            socket.emit('signedUp', {id: player.id, skills: player.skills, class: player.class});\r\n        }else{\r\n            socket.emit('signedIn', {id: player.id, skills: player.skills, class: player.class});\r\n        }\r\n    }\r\n\r\n    private dbConnect(): void {\r\n        var db = mysql.createConnection(this.dbConfig);\r\n        db.connect((err) => {\r\n            if (err) {\r\n                throw err\r\n            }else {\r\n                console.log(`\\n\\n===============>\\t mySQL connected\\n`);\r\n                let sql = 'CREATE DATABASE IF NOT EXISTS elevaidus';\r\n                db.query(sql, (err, result) => {\r\n                    if (err) {\r\n                        throw err\r\n                    }else {\r\n                        console.log(`\\n\\n===============>\\t database check\\n`);\r\n                        db.end();\r\n                        this.dbConfig.database = CONSTANTS.DATABASE;\r\n                        db = mysql.createConnection(this.dbConfig);\r\n                        db.connect((err) => {\r\n                            if (err) {\r\n                                throw err\r\n                            }else {\r\n                                console.log(`\\n\\n===============>\\t ${CONSTANTS.DATABASE} database connected\\n`);\r\n                                sql = \"CREATE TABLE IF NOT EXISTS Player(id int AUTO_INCREMENT, username VARCHAR(30), password VARCHAR(255), class VARCHAR(30), farming int, mining int, fighting int, healing int, PRIMARY KEY (id), UNIQUE KEY username (username))\"\r\n                                db.query(sql, (err, result) => {\r\n                                    if (err) {\r\n                                        throw err\r\n                                    }else {\r\n                                        console.log(`\\n\\n===============>\\t ${CONSTANTS.DATABASE} database tables check\\n`);\r\n                                    }\r\n                                });\r\n                                this.db = db;\r\n                            }\r\n                        }); \r\n                    }\r\n                })\r\n            }\r\n        });\r\n    }\r\n}\r\n","export const HOST: string = 'localhost';\r\nexport const USER: string = 'elevaidus';\r\nexport const DBPASSWORD: string = 'mysqlP@$$w0rd';\r\nexport const DATABASE: string = 'elevaidus';\r\n","import { App } from './app';\r\n\r\n//start application\r\nvar app = new App();\r\n","import * as mysql from 'mysql';\r\n// TODO: Import class array from json\r\nconst classArray = [\r\n    \"farmer\",\r\n    \"knight\",\r\n    \"priest\",\r\n    \"miner\"\r\n]\r\n\r\nexport class Player {\r\n    private io: SocketIO.Server;\r\n    private socket: SocketIO.EngineSocket;\r\n    private db: mysql.Connection;\r\n    public class: string;\r\n    public skills: Skills; \r\n    public id: number;\r\n    public zone: string;\r\n\r\n    constructor(io: SocketIO.Server, socket: SocketIO.EngineSocket, db: mysql.Connection, playerInfo: any){\r\n       this.io = io;\r\n       this.socket = socket;\r\n       this.db = db;\r\n       this.skills = new Skills();\r\n       this.id = playerInfo.player.id;\r\n        if(playerInfo.isNew){\r\n            this.CreateNewPlayer();\r\n        }else{\r\n            this.SetPlayerInfo(playerInfo.player);\r\n        }\r\n    }\r\n\r\n    private SetPlayerInfo(playerInfo: any): void {\r\n        this.skills.SetSkills(playerInfo);\r\n        this.class = playerInfo.class;\r\n    }\r\n\r\n    private CreateNewPlayer(): void {\r\n        this.GenerateClass();\r\n        this.GenerateSkills();\r\n        this.saveInDatabase();\r\n    }\r\n\r\n    private GenerateClass(): void {\r\n        var randomNumber = Math.floor(Math.random()*classArray.length) \r\n        // TODO: randomly choose class string\r\n        this.class =  classArray[randomNumber];\r\n    };\r\n\r\n\r\n\r\n    private GenerateSkills(): void {\r\n        this.skills.GenerateRandomSkills();\r\n        if (this.class === \"farmer\"){\r\n            this.skills.farming += 25;\r\n        }else if (this.class === 'knight') {\r\n            this.skills.fighting += 25;\r\n        }else if (this.class === 'priest') {\r\n            this.skills.healing += 25;\r\n        }else if (this.class === 'miner') {\r\n            this.skills.mining += 25;\r\n        }\r\n    }\r\n\r\n    private saveInDatabase(): void {\r\n        // TODO: Save Player to database\r\n        let sql = 'UPDATE player SET class = ?, farming = ?, mining = ?, healing = ?, fighting = ? WHERE id = ?';\r\n        this.db.query(sql, [this.class, this.skills.farming, this.skills.mining, this.skills.healing, this.skills.fighting, this.id], (err, res) =>{\r\n            if(err){\r\n                console.log(err);\r\n            }else{\r\n                console.log(`\\n\\n===============>\\t Player ${this.id} updated in database \\n`);\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    PlayerUpdate(data: any){\r\n        \r\n    }\r\n}\r\n\r\nclass Skills {\r\n    farming: number;\r\n    mining: number;\r\n    healing: number;\r\n    fighting: number;\r\n\r\n    constructor(){\r\n    }\r\n\r\n    public SetSkills(playerInfo: any): void {\r\n        this.farming = playerInfo.farming;\r\n        this.mining = playerInfo.mining;\r\n        this.healing = playerInfo.healing;\r\n        this.fighting = playerInfo.fighting;\r\n    }\r\n\r\n    public GenerateRandomSkills(): void {\r\n        this.farming = Math.floor(Math.random()*26);\r\n        this.mining = Math.floor(Math.random()*26);\r\n        this.healing = Math.floor(Math.random()*26);\r\n        this.fighting = Math.floor(Math.random()*26);\r\n    }\r\n}","module.exports = require(\"express\");","module.exports = require(\"http\");","module.exports = require(\"mysql\");","module.exports = require(\"path\");","module.exports = require(\"socket.io\");"],"sourceRoot":""}